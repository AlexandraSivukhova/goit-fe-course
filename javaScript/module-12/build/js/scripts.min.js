"use strict";var link=getLocalStorage(),form=document.querySelector(".form"),input=form.querySelector(".input"),button=form.querySelector(".button"),source=document.querySelector("#list").innerHTML.trim(),template=Handlebars.compile(source),grid=document.querySelector("#grid"),list=document.querySelector(".list");function setLocalStorage(e){localStorage.setItem("saved_url",JSON.stringify(e))}function getLocalStorage(){var e=localStorage.getItem("saved_url");return e?JSON.parse(e):[]}function onAddUrlList(e){e.preventDefault();var t=input.value;if(""===t)return alert("Добавьте URL");if(link.find(function(e){return e.url===t}))return alert("Такая закладка уже существует!");if(!/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/g.test(t))return alert("Введите, пожалуйста, правильный URL.");form.reset();var r={url:t};getRenderItem(link.push(r),r),setLocalStorage(link)}function getRenderItem(e,t){t.position=e,grid.insertAdjacentHTML("afterbegin",template(t))}function getRenderPage(e){e.forEach(function(e,t){getRenderItem(t,e)})}function onDeleteUrl(e){var t=e.target;if("button"===t.nodeName.toLowerCase()){t.parentNode.remove();var r=event.target.dataset.position;setLocalStorage(link=link.filter(function(e){return e.position!=r}))}}console.log(link),button.addEventListener("click",onAddUrlList),grid.addEventListener("click",onDeleteUrl),window.onload=getRenderPage(link);